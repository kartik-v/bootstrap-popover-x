/*!
 * @copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2024
 * @version 1.5.4
 *
 * Bootstrap Popover Extended - Popover with modal behavior, styling enhancements and more.
 *
 * For more JQuery/Bootstrap plugins and demos visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?t(require("jquery")):t(window.jQuery)}(function(t){"use strict";var o,e,i;t.fn.popoverXBsVersion||(t.fn.popoverXBsVersion=window.bootstrap&&window.bootstrap.Modal&&bootstrap.Modal.VERSION||window.Modal&&window.Modal.VERSION||"3.x.x"),o={NAMESPACE:".popoverX",modalOptions:["keyboard","focus","show"],kvLog:function(t){t="bootstrap-popover-x: "+t,window.console&&window.console.log?window.console.log(t):window.alert(t)},addCss:function(t,o){t.removeClass(o).addClass(o)},handler:function(t,e,i){var r=e+o.NAMESPACE;return t.off(r).on(r,i)},raise:function(t,e,i){var r=e+(void 0===i?".target":i)+o.NAMESPACE;return t.trigger(r)},isBs:function(o){var e=t.fn.popoverXBsVersion,i=(null==e?"":e).toString().trim();return e=parseInt(o,10),i?e===parseInt(i.charAt(0),10):4===e},getDataAttr:function(t){return"data-"+(o.isBs(5)?"bs-":"")+t}},i=function(o,e){this.options=e,this.$element=t(o),this.$dialog=this.$element,this.init()},(e=function(o,e){this.options=e,this.$element=t(o),this.init()}).prototype={constructor:e,init:function(){var e,i,r=this,n=r.$element,a=r.options||{},s=n.attr("href"),p=function(t){o.kvLog("PopoverX initialization skipped! "+t)};if(r.href=s,n&&n.length)if(n.attr("data-toggle","popover-x"),a.target?(n.data("target",a.target),i=t(a.target)):i=t(n.data("target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),i.length){if(r.$dialog=i,i.attr(o.getDataAttr("backdrop"),"false"),o.addCss(i,"popover-x"),!i.data("popover-x")){var l=t.extend(!0,{remote:s&&!/#/.test(s)},i.data(),n.data(),a);l.$target=n,i.popoverX(l)}"string"==typeof(e=a.trigger)?(e=e.split(" "),t.each(e,function(t,o){r.listen(o)})):p("Invalid or improper configuration for PopoverX trigger.")}else p("PopoverX dialog element could not be found.");else p("PopoverX triggering button element could not be found.")},listen:function(t){var e,i,r=this.$element,n=this.$dialog,a=!1,s=this.href;"manual"!==t&&("click"!==t&&"keyup"!==t&&(a=!0),a?(e="hover"===t?"mouseenter":"focusin",i="hover"===t?"mouseleave":"focusout",o.handler(r,e,function(){o.raise(n,e).popoverX("show")}),o.handler(r,i,function(){o.raise(n,i).popoverX("hide")})):o.handler(r,t,function(e){"keyup"!==t?(s&&"click"===t&&e.preventDefault(),o.raise(n,t).popoverX("toggle"),o.handler(n,"hide",function(){r.focus()})):n&&27===e.which&&o.raise(n,t).popoverX("hide")}))},destroy:function(){this.$element.off(o.NAMESPACE),this.$dialog.modal("dispose").off(o.NAMESPACE)}},i.prototype={constructor:i,init:function(){var e=this,i=e.$element,r=e.options,n=r.$container,a=o.isBs(5);n&&n.length&&(e.$body=n),e.$body&&e.$body.length||(e.$body=t(document.body)),t.each(o.modalOptions,function(t,e){r[e]&&i.attr(o.getDataAttr(e),r[e])}),i.attr(o.getDataAttr("backdrop"),"false"),a&&!i.find(".modal-dialog").length&&(t(document.createElement("div")).addClass("modal-dialog").css({margin:0,"pointer-events":"all"}).insertAfter(i).append(i.contents()).appendTo(i),o.addCss(i.find(".arrow"),"popover-arrow")),o.addCss(i,"is-bs"+t.fn.popoverXBsVersion.charAt(0)),e.bodyPadding=e.$body.css("padding"),e.$target=e.options.$target,e.$marker=t(document.createElement("div")).addClass("popover-x-marker").insertAfter(i).hide(),i.find(".popover-footer").length&&o.addCss(i,"has-footer"),e.options.remote&&i.find(".popover-content").on("load",e.options.remote,function(){i.trigger("load.complete.popoverX")}),i.on("click.dismiss"+o.NAMESPACE,'[data-dismiss="popover-x"]',t.proxy(e.hide,e)),r.closePopoverOnBlur&&t(document).on("click",function(o){var e=t(o.target);e.closest('[data-toggle="popover-x"]').length||(e.closest(".popover-x").length?o.stopPropagation():t(".popover-x:visible").popoverX("hide"))});var s,p="hide.bs.modal.popoverX",l=t(".modal");l.length&&(s=l.find("[data-toggle='popover-x']")).length&&l.off(p).on(p,function(){s.each(function(){var o=t(this).data("target")||null,e=t(o);e.length&&e.is(":visible")&&e.popoverX("hide")})}),t(window).resize(function(){!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&i.hasClass("kv-popover-active")&&(e.hide(),setTimeout(function(){e.show(!0)},50))})},getPlacement:function(){var t=this.getPosition(),o=this.options.placement,e=document.documentElement,i=document.body,r=e.clientWidth,n=e.clientHeight,a=Math.max(i.scrollTop||0,e.scrollTop),s="horizontal"===o,p=Math.max(i.scrollLeft||0,e.scrollLeft),l="vertical"===o,d=Math.max(0,t.left-p),f=Math.max(0,t.top-a),h="auto"===o||s||l,c=window.innerWidth||e||document.body.clientWidth;if(this.options.autoPlaceSmallScreen&&c<this.options.smallScreenWidth&&(h=!0),h)return d<r/3?f<n/3?s?"right right-top":"bottom bottom-left":f<2*n/3?l?f<=n/2?"bottom bottom-left":"top top-left":"right":s?"right right-bottom":"top top-left":d<2*r/3?f<n/3?s?d<=r/2?"right right-top":"left left-top":"bottom":f<2*n/3?s?d<=r/2?"right":"left":f<=n/2?"bottom":"top":s?d<=r/2?"right right-bottom":"left left-bottom":"top":f<n/3?s?"left left-top":"bottom bottom-left":f<2*n/3?l?f<=n/2?"bottom-right":"top-right":"left":s?"left left-bottom":"top top-left";switch(o){case"auto-top":return d<r/3?"top top-left":d<2*r/3?"top":"top top-right";case"auto-bottom":return d<r/3?"bottom bottom-left":d<2*r/3?"bottom":"bottom bottom-right";case"auto-left":return f<n/3?"left left-top":f<2*n/3?"left":"left left-bottom";case"auto-right":return f<n/3?"right right-top":f<2*n/3?"right":"right right-bottom";default:return o}},getPosition:function(){var o=this.$target,e=o[0].getBoundingClientRect(),i=this.$body,r=i.css("position");if(i.is(document.body)||"static"===r)return t.extend({},o.offset(),{width:o[0].offsetWidth||e.width,height:o[0].offsetHeight||e.height});if("relative"===r)return{top:o.offset().top-i.offset().top,left:o.offset().left-i.offset().left,width:o[0].offsetWidth||e.width,height:o[0].offsetHeight||e.height};var n=i[0].getBoundingClientRect();return{top:e.top-n.top+i.scrollTop(),left:e.left-n.left+i.scrollLeft(),width:e.width,height:e.height}},refreshPosition:function(){var t,e=this.$element,i=this.getPosition(),r=e[0].offsetWidth,n=e[0].offsetHeight,a=this.getPlacement();switch(a){case"bottom":t={top:i.top+i.height,left:i.left+i.width/2-r/2};break;case"bottom bottom-left":t={top:i.top+i.height,left:i.left};break;case"bottom bottom-right":t={top:i.top+i.height,left:i.left+i.width-r};break;case"top":t={top:i.top-n,left:i.left+i.width/2-r/2};break;case"top top-left":t={top:i.top-n,left:i.left};break;case"top top-right":t={top:i.top-n,left:i.left+i.width-r};break;case"left":t={top:i.top+i.height/2-n/2,left:i.left-r};break;case"left left-top":t={top:i.top,left:i.left-r};break;case"left left-bottom":t={top:i.top+i.height-n,left:i.left-r};break;case"right":t={top:i.top+i.height/2-n/2,left:i.left+i.width};break;case"right right-top":t={top:i.top,left:i.left+i.width};break;case"right right-bottom":t={top:i.top+i.height-n,left:i.left+i.width};break;default:o.kvLog("Invalid popover placement '"+a+"'.")}e.removeClass("bottom top left right bottom-left top-left bottom-right top-right left-bottom left-top right-bottom right-top").css(t).addClass(a+" in")},validateOpenPopovers:function(){var o=this.$element;this.options.closeOpenPopovers&&this.$body.find(".popover:visible").each(function(){var e=t(this);e.is(o)||e.popoverX("hide")})},hide:function(){var t=this.$element;this.$body.removeClass("popover-x-body"),t.removeClass("kv-popover-active"),t.modal("hide"),t.insertBefore(this.$marker)},show:function(t){var e=this.$element;e.addClass("kv-popover-active"),e.css(this.options.dialogCss).appendTo(this.$body),t||this.validateOpenPopovers(),o.addCss(this.$body,"popover-x-body"),e.modal("show"),this.$body.css({padding:this.bodyPadding}),e.css({padding:0}),this.refreshPosition()},toggle:function(){this.$element.is(":visible")?this.hide():this.show()},destroy:function(){this.$element.modal("dispose").off(o.NAMESPACE)}},t.fn.popoverButton=function(o){return this.each(function(){var i=t(this),r=i.data("popover-button"),n=t.extend({},t.fn.popoverButton.defaults,i.data(),"object"==typeof o&&o);r||i.data("popover-button",r=new e(this,n)),"string"==typeof o&&r[o]()})},t.fn.popoverX=function(o){return this.each(function(){var e=t(this),r=e.data("popover-x"),n=t.extend({},t.fn.popoverX.defaults,e.data(),"object"==typeof o&&o);n.$target||(r&&r.$target?n.$target=r.$target:n.$target=o.$target||t(o.target)),r||e.data("popover-x",r=new i(this,n)),"string"==typeof o?r[o]():n.show&&r.show(!0)})},t.fn.popoverButton.defaults={trigger:"click keyup"},t.fn.popoverX.defaults=t.extend(!0,{},{placement:"auto",dialogCss:{top:0,left:0,display:"block","z-index":1065},autoPlaceSmallScreen:!0,smallScreenWidth:640,closeOpenPopovers:!0,closePopoverOnBlur:!0,keyboard:!0,focus:!0}),t.fn.popoverButton.Constructor=e,t.fn.popoverX.Constructor=i,t(document).ready(function(){var o=t("[data-toggle='popover-x']");o.length&&o.popoverButton()})});